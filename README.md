# ğŸ§® Beancount Web è®°è´¦ç³»ç»Ÿ

<div align="center">

åŸºäº [Beancount](https://beancount.github.io/) çš„ç°ä»£åŒ–å¤å¼è®°è´¦ç³»ç»Ÿï¼Œä¸“ä¸ºç§»åŠ¨ç«¯ä¼˜åŒ–ï¼Œé›†æˆ AI æ™ºèƒ½è´¢åŠ¡åˆ†æã€‚

[![Docker](https://img.shields.io/badge/Docker-Ready-2496ED?style=flat-square&logo=docker&logoColor=white)](https://hub.docker.com/r/pionnerwang/beancount-web)
[![Vue 3](https://img.shields.io/badge/Vue-3.x-4FC08D?style=flat-square&logo=vuedotjs&logoColor=white)](https://vuejs.org/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.100+-009688?style=flat-square&logo=fastapi&logoColor=white)](https://fastapi.tiangolo.com/)
[![License](https://img.shields.io/badge/License-MIT-blue.svg?style=flat-square)](LICENSE)

</div>

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ“± æ ¸å¿ƒè®°è´¦

- **å¤å¼è®°è´¦å¼•æ“** - åŸºäº Beancount 3ï¼Œç¡®ä¿è´¦åŠ¡å‡†ç¡®æ€§ä¸ä¸“ä¸šæ€§
- **ç§»åŠ¨ç«¯ä¼˜å…ˆ** - Vue 3 + Vant 4 UIï¼Œé’ˆå¯¹ç§»åŠ¨è®¾å¤‡æ·±åº¦ä¼˜åŒ–
- **PWA æ”¯æŒ** - å¯å®‰è£…ä¸ºæ¡Œé¢/ç§»åŠ¨åº”ç”¨ï¼Œæ”¯æŒç¦»çº¿è®¿é—®
- **å¤šè´¦æœ¬ç®¡ç†** - æ”¯æŒæŒ‰å¹´ä»½è‡ªåŠ¨åˆ†æ–‡ä»¶ï¼Œè´¦æœ¬ include å¼•ç”¨ç®¡ç†

### ğŸ¤– AI è´¢åŠ¡åŠ©æ‰‹

- **æ™ºèƒ½åˆ†æ** - é›†æˆé˜¿é‡Œäº‘ç™¾ç‚¼ (é€šä¹‰åƒé—®) å¤§æ¨¡å‹
- **æµå¼å¯¹è¯** - å®æ—¶æµå¼è¾“å‡ºï¼Œå¯¹è¯ä½“éªŒæµç•…è‡ªç„¶
- **è´¢åŠ¡æ´å¯Ÿ** - è‡ªåŠ¨åˆ†ææ¶ˆè´¹ä¹ æƒ¯ï¼Œæä¾›ä¸ªæ€§åŒ–ç†è´¢å»ºè®®
- **å¤šè½®å¯¹è¯** - æ”¯æŒä¸Šä¸‹æ–‡è¿ç»­å¯¹è¯ï¼Œæ·±å…¥æ¢è®¨è´¢åŠ¡é—®é¢˜

### ğŸ“Š æŠ¥è¡¨ä¸åˆ†æ

- **å®æ—¶ä»ªè¡¨ç›˜** - ç›´è§‚å±•ç¤ºæ”¶æ”¯è¶‹åŠ¿ä¸èµ„äº§åˆ†å¸ƒ
- **å¤šç»´åº¦æŠ¥è¡¨** - æœˆåº¦/å­£åº¦/å¹´åº¦æŠ¥è¡¨ï¼Œæ”¯æŒè‡ªå®šä¹‰æ—¥æœŸèŒƒå›´
- **BQL é«˜çº§æŸ¥è¯¢** - å®Œæ•´æ”¯æŒ Beancount Query Languageï¼Œ8 ä¸ªé¢„ç½®æŸ¥è¯¢æ¨¡æ¿
- **å›¾è¡¨å¯è§†åŒ–** - åŸºäº ECharts çš„äº¤äº’å¼å›¾è¡¨

### ğŸ’° é¢„ç®—ç®¡ç†

- **çµæ´»å‘¨æœŸ** - æ”¯æŒæœˆåº¦ã€å­£åº¦ã€å¹´åº¦é¢„ç®—è®¾ç½®
- **å®æ—¶è¿½è¸ª** - é¢„ç®—æ‰§è¡Œè¿›åº¦å®æ—¶æ›´æ–°
- **è¶…æ”¯é¢„è­¦** - æ¥è¿‘æˆ–è¶…å‡ºé¢„ç®—æ—¶è‡ªåŠ¨æé†’

### ï¿½ å‘¨æœŸäº¤æ˜“

- **è‡ªåŠ¨è®°è´¦** - è®¾ç½®å‘¨æœŸè§„åˆ™ï¼Œè‡ªåŠ¨ç”Ÿæˆå®šæœŸäº¤æ˜“
- **çµæ´»é…ç½®** - æ”¯æŒæ¯æ—¥/æ¯å‘¨/æ¯æœˆ/æ¯å¹´ç­‰å¤šç§é¢‘ç‡
- **æ‰§è¡Œç®¡ç†** - ä¸€é”®æ‰§è¡Œå¾…å¤„ç†çš„å‘¨æœŸäº¤æ˜“

### â˜ï¸ æ•°æ®åŒæ­¥

- **GitHub å¤‡ä»½** - è‡ªåŠ¨åŒæ­¥è´¦æœ¬åˆ° GitHub ä»“åº“
- **å¤šè®¾å¤‡åŒæ­¥** - åœ¨å¤šå°è®¾å¤‡é—´ä¿æŒæ•°æ®ä¸€è‡´
- **ç‰ˆæœ¬æ§åˆ¶** - åˆ©ç”¨ Git è®°å½•æ¯æ¬¡å˜æ›´å†å²

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šDocker éƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
# ä½¿ç”¨ docker-compose
docker-compose up -d

# æˆ–è€…ç›´æ¥è¿è¡Œ Docker é•œåƒ
docker run -d \
  --name beancount-web \
  -p 8000:8000 \
  -v beancount-data:/app/data \
  -e USERNAME=admin \
  -e PASSWORD=admin123 \
  -e ENABLE_AUTH=true \
  -e DASHSCOPE_API_KEY=your-api-key \
  pionnerwang/beancount-web:latest
```

è®¿é—®åœ°å€ï¼šhttp://localhost:8000

### æ–¹å¼äºŒï¼šæœ¬åœ°å¼€å‘

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-repo/beancount-web.git
cd beancount-web

# ä¸€é”®å¯åŠ¨ï¼ˆåç«¯ + å‰ç«¯ï¼‰
chmod +x start.sh && ./start.sh
```

- å‰ç«¯å¼€å‘åœ°å€ï¼šhttp://localhost:5173
- åç«¯ API åœ°å€ï¼šhttp://localhost:8000
- API æ–‡æ¡£ï¼šhttp://localhost:8000/docs

### é»˜è®¤ç™»å½•å‡­è¯

- **ç”¨æˆ·å**ï¼š`admin`
- **å¯†ç **ï¼š`admin123`

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯

| æŠ€æœ¯       | ç‰ˆæœ¬ | è¯´æ˜                   |
| ---------- | ---- | ---------------------- |
| Vue.js     | 3.x  | æ¸è¿›å¼ JavaScript æ¡†æ¶ |
| TypeScript | 5.x  | ç±»å‹å®‰å…¨çš„ JavaScript  |
| Vant       | 4.x  | è½»é‡çº§ç§»åŠ¨ç«¯ UI ç»„ä»¶åº“ |
| Vite       | 5.x  | ç°ä»£åŒ–å‰ç«¯æ„å»ºå·¥å…·     |
| Pinia      | 2.x  | Vue çŠ¶æ€ç®¡ç†           |
| Vue Router | 4.x  | å®˜æ–¹è·¯ç”±ç®¡ç†å™¨         |
| ECharts    | 5.x  | æ•°æ®å¯è§†åŒ–å›¾è¡¨åº“       |
| PWA        | -    | æ¸è¿›å¼ Web åº”ç”¨æ”¯æŒ    |

### åç«¯

| æŠ€æœ¯        | ç‰ˆæœ¬ | è¯´æ˜                |
| ----------- | ---- | ------------------- |
| Python      | 3.8+ | ä¸»å¼€å‘è¯­è¨€          |
| FastAPI     | -    | é«˜æ€§èƒ½å¼‚æ­¥ Web æ¡†æ¶ |
| Beancount   | 3.x  | å¤å¼è®°è´¦å¼•æ“        |
| SQLAlchemy  | -    | ORM æ•°æ®åº“æ¡†æ¶      |
| SQLite      | -    | è½»é‡çº§æ•°æ®åº“        |
| APScheduler | -    | ä»»åŠ¡è°ƒåº¦å™¨          |
| Alembic     | -    | æ•°æ®åº“è¿ç§»å·¥å…·      |

### AI èƒ½åŠ›

| æŠ€æœ¯       | è¯´æ˜                        |
| ---------- | --------------------------- |
| é˜¿é‡Œäº‘ç™¾ç‚¼ | é€šä¹‰åƒé—®å¤§æ¨¡å‹ API          |
| qwen3-max  | é»˜è®¤ä½¿ç”¨æ¨¡å‹                |
| SSE        | Server-Sent Events æµå¼å“åº” |

### åŸºç¡€è®¾æ–½

| æŠ€æœ¯           | è¯´æ˜             |
| -------------- | ---------------- |
| Docker         | å®¹å™¨åŒ–éƒ¨ç½²       |
| GitHub Actions | CI/CD è‡ªåŠ¨åŒ–     |
| Nginx          | åå‘ä»£ç†ï¼ˆå¯é€‰ï¼‰ |

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
beancount-web/
â”œâ”€â”€ backend/                    # åç«¯ Python æœåŠ¡
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ ai/                 # AI åˆ†ææ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ service.py      # AI æœåŠ¡æ ¸å¿ƒé€»è¾‘
â”‚   â”‚   â”‚   â”œâ”€â”€ tools/          # AI å·¥å…·é›†
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ budget_tool.py    # é¢„ç®—åˆ†æå·¥å…·
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ledger_tool.py    # è´¦æœ¬æŸ¥è¯¢å·¥å…·
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ report_tool.py    # æŠ¥è¡¨ç”Ÿæˆå·¥å…·
â”‚   â”‚   â”‚   â””â”€â”€ config/         # AI é…ç½®
â”‚   â”‚   â”œâ”€â”€ core/               # æ ¸å¿ƒé…ç½®
â”‚   â”‚   â”œâ”€â”€ models/             # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ routers/            # API è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ transactions.py # äº¤æ˜“æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ reports.py      # æŠ¥è¡¨æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ accounts.py     # è´¦æˆ·æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ budgets.py      # é¢„ç®—æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ recurring.py    # å‘¨æœŸè®°è´¦æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ query.py        # BQL æŸ¥è¯¢æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ ai.py           # AI åˆ†ææ¥å£
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ services/           # ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”‚   â””â”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ requirements.txt        # Python ä¾èµ–
â”‚   â””â”€â”€ main.py                 # åº”ç”¨å…¥å£
â”œâ”€â”€ frontend/                   # å‰ç«¯ Vue åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/                # API æ¥å£å°è£…
â”‚   â”‚   â”œâ”€â”€ components/         # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ AIAssistant.vue # AI åŠ©æ‰‹å¯¹è¯æ¡†
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ views/              # é¡µé¢è§†å›¾
â”‚   â”‚   â”‚   â””â”€â”€ h5/             # ç§»åŠ¨ç«¯é¡µé¢
â”‚   â”‚   â”‚       â”œâ”€â”€ Dashboard.vue       # ä»ªè¡¨ç›˜
â”‚   â”‚   â”‚       â”œâ”€â”€ Transactions.vue    # äº¤æ˜“åˆ—è¡¨
â”‚   â”‚   â”‚       â”œâ”€â”€ Accounts.vue        # è´¦æˆ·ç®¡ç†
â”‚   â”‚   â”‚       â”œâ”€â”€ Reports.vue         # æŠ¥è¡¨åˆ†æ
â”‚   â”‚   â”‚       â”œâ”€â”€ Budgets.vue         # é¢„ç®—ç®¡ç†
â”‚   â”‚   â”‚       â”œâ”€â”€ Query.vue           # BQL æŸ¥è¯¢
â”‚   â”‚   â”‚       â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ router/             # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ stores/             # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ package.json            # Node.js ä¾èµ–
â”œâ”€â”€ data/                       # è´¦æœ¬æ•°æ®ç›®å½•
â”œâ”€â”€ docker-compose.yml          # Docker ç¼–æ’é…ç½®
â”œâ”€â”€ Dockerfile                  # Docker é•œåƒæ„å»º
â”œâ”€â”€ start.sh                    # æœ¬åœ°å¼€å‘å¯åŠ¨è„šæœ¬
â””â”€â”€ README.md
```

---

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

åˆ›å»º `backend/.env` æ–‡ä»¶ï¼ˆå¯å‚è€ƒ `.env.example`ï¼‰ï¼š

```bash
# AI åˆ†æåŠŸèƒ½ï¼ˆé˜¿é‡Œäº‘ç™¾ç‚¼ é€šä¹‰åƒé—®ï¼‰
DASHSCOPE_API_KEY=your-api-key-here

# è®¤è¯é…ç½®
ENABLE_AUTH=true
USERNAME=admin
PASSWORD=admin123

# å¯é€‰ï¼šæ•°æ®ç›®å½•
# DATA_DIR=/app/data
```

### Docker Compose é…ç½®

```yaml
version: "3.8"

services:
  beancount-web:
    image: pionnerwang/beancount-web:latest
    ports:
      - "8000:8000"
    volumes:
      - beancount-data:/app/data # æŒä¹…åŒ–è´¦æœ¬æ•°æ®
      - ./my-ledger:/app/data # æˆ–æŒ‚è½½æœ¬åœ°ç›®å½•
    environment:
      - USERNAME=admin
      - PASSWORD=admin123
      - ENABLE_AUTH=true
      - DASHSCOPE_API_KEY=your-api-key
    restart: unless-stopped

volumes:
  beancount-data:
```

---

## ğŸ“– API æ–‡æ¡£

å¯åŠ¨æœåŠ¡åè®¿é—®è‡ªåŠ¨ç”Ÿæˆçš„äº¤äº’å¼ API æ–‡æ¡£ï¼š

- **Swagger UI**ï¼šhttp://localhost:8000/docs
- **ReDoc**ï¼šhttp://localhost:8000/redoc

### ä¸»è¦ API ç«¯ç‚¹

| æ¨¡å—     | ç«¯ç‚¹                  | è¯´æ˜           |
| -------- | --------------------- | -------------- |
| è®¤è¯     | `/api/auth/*`         | ç”¨æˆ·ç™»å½•/ç™»å‡º  |
| äº¤æ˜“     | `/api/transactions/*` | äº¤æ˜“å¢åˆ æ”¹æŸ¥   |
| æŠ¥è¡¨     | `/api/reports/*`      | è´¢åŠ¡æŠ¥è¡¨æŸ¥è¯¢   |
| è´¦æˆ·     | `/api/accounts/*`     | è´¦æˆ·ç®¡ç†       |
| é¢„ç®—     | `/api/budgets/*`      | é¢„ç®—ç®¡ç†       |
| å‘¨æœŸè®°è´¦ | `/api/recurring/*`    | å‘¨æœŸäº¤æ˜“ç®¡ç†   |
| BQL æŸ¥è¯¢ | `/api/query/*`        | Beancount æŸ¥è¯¢ |
| AI åˆ†æ  | `/api/ai/*`           | AI è´¢åŠ¡åˆ†æ    |
| æ–‡ä»¶ç®¡ç† | `/api/files/*`        | è´¦æœ¬æ–‡ä»¶ç®¡ç†   |
| åŒæ­¥     | `/api/sync/*`         | GitHub åŒæ­¥    |

---

## ğŸ–¥ï¸ ç•Œé¢é¢„è§ˆ

### ä¸»è¦åŠŸèƒ½é¡µé¢

- **ä»ªè¡¨ç›˜** - è´¢åŠ¡æ¦‚è§ˆï¼Œæ”¶æ”¯è¶‹åŠ¿å›¾è¡¨
- **äº¤æ˜“åˆ—è¡¨** - å…¨éƒ¨äº¤æ˜“è®°å½•ï¼Œæ”¯æŒæœç´¢ç­›é€‰
- **è®°è´¦é¡µé¢** - å¿«é€Ÿæ·»åŠ äº¤æ˜“ï¼Œæ™ºèƒ½åˆ†ç±»
- **è´¦æˆ·ç®¡ç†** - èµ„äº§/è´Ÿå€º/æ”¶å…¥/æ”¯å‡ºè´¦æˆ·æ ‘
- **æŠ¥è¡¨åˆ†æ** - å¤šç»´åº¦è´¢åŠ¡æŠ¥è¡¨
- **é¢„ç®—ç®¡ç†** - é¢„ç®—è®¾ç½®ä¸æ‰§è¡Œè¿½è¸ª
- **BQL æŸ¥è¯¢** - é«˜çº§æ•°æ®æŸ¥è¯¢
- **AI åŠ©æ‰‹** - æ™ºèƒ½è´¢åŠ¡å¯¹è¯

---

## ğŸ”§ å¼€å‘æŒ‡å—

### å‰ç«¯å¼€å‘

```bash
cd frontend
npm install
npm run dev       # å¼€å‘æ¨¡å¼
npm run build     # ç”Ÿäº§æ„å»º
npm run lint      # ä»£ç æ£€æŸ¥
```

### åç«¯å¼€å‘

```bash
cd backend
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
python main.py    # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```

### ä»£ç è§„èŒƒ

- **å‰ç«¯**ï¼šESLint + Vue å®˜æ–¹é£æ ¼æŒ‡å—
- **åç«¯**ï¼šBlack + isort + flake8

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. å‘èµ· Pull Request

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºè®¸å¯è¯ã€‚

---

## ğŸ™ è‡´è°¢

- [Beancount](https://beancount.github.io/) - å¼ºå¤§çš„çº¯æ–‡æœ¬å¤å¼è®°è´¦å¼•æ“
- [Vue.js](https://vuejs.org/) - æ¸è¿›å¼ JavaScript æ¡†æ¶
- [Vant](https://vant-ui.github.io/) - è½»é‡çº§ç§»åŠ¨ç«¯ Vue ç»„ä»¶åº“
- [FastAPI](https://fastapi.tiangolo.com/) - ç°ä»£ Python Web æ¡†æ¶
- [é˜¿é‡Œäº‘ç™¾ç‚¼](https://bailian.console.aliyun.com/) - é€šä¹‰åƒé—®å¤§æ¨¡å‹èƒ½åŠ›æ”¯æŒ
