/* Vant 原生暗黑模式主题样式 */

/* 基础主题变量 - 与 Vant 保持一致 */
:root {
  /* 基础色彩 */
  --color-primary: #1989fa;
  --color-success: #07c160;
  --color-warning: #ff976a;
  --color-danger: #ee0a24;
  --color-info: #909399;
  --color-white: #ffffff;
  
  /* 应用背景色 - 使用 Vant 变量 */
  --app-background: var(--van-background);
  --app-background-2: var(--van-background-2);
  
  /* 文字颜色 - 使用 Vant 变量 */
  --app-text-color: var(--van-text-color);
  --app-text-color-2: var(--van-text-color-2);
  --app-text-color-3: var(--van-text-color-3);
  
  /* 边框颜色 - 使用 Vant 变量 */
  --app-border-color: var(--van-border-color);
  
  /* 自定义变量映射到 Vant 变量 */
  --bg-color: var(--van-background-2);
  --bg-color-secondary: var(--van-background);
  --bg-color-tertiary: var(--van-background-3, #f7f8fa);
  
  --text-color: var(--van-text-color);
  --text-color-secondary: var(--van-text-color-2);
  --text-color-tertiary: var(--van-text-color-3);
  --text-color-placeholder: var(--van-text-color-3);
  
  --border-color: var(--van-border-color);
  --border-color-lighter: var(--van-border-color);
  
  /* 阴影效果 */
  --shadow-light: 0 2px 12px 0 rgba(0, 0, 0, 0.1);
  --shadow-base: 0 2px 4px rgba(0, 0, 0, 0.12), 0 0 6px rgba(0, 0, 0, 0.04);
}

/* Vant 暗黑模式下的变量调整 */
.van-theme-dark {
  /* 阴影调整 */
  --shadow-light: 0 2px 12px 0 rgba(0, 0, 0, 0.3);
  --shadow-base: 0 2px 4px rgba(0, 0, 0, 0.24), 0 0 6px rgba(0, 0, 0, 0.12);
  
  /* 暗黑模式下的自定义变量映射 */
  --bg-color: var(--van-background-2);
  --bg-color-secondary: var(--van-background);
  --bg-color-tertiary: var(--van-background-3, #1f1f1f);
  
  --text-color: var(--van-text-color);
  --text-color-secondary: var(--van-text-color-2);
  --text-color-tertiary: var(--van-text-color-3);
  --text-color-placeholder: var(--van-text-color-3);
  
  --border-color: var(--van-border-color);
  --border-color-lighter: var(--van-border-color);
}

/* 基础样式应用主题变量 */
html, body {
  background-color: var(--van-background) !important;
  color: var(--van-text-color) !important;
  transition: background-color 0.3s, color 0.3s;
}

/* 应用容器样式 */
#app {
  background-color: var(--van-background);
  color: var(--van-text-color);
  transition: background-color 0.3s, color 0.3s;
}

/* 页面容器样式 */
.page-container {
  background-color: var(--van-background) !important;
  color: var(--van-text-color) !important;
  min-height: 100vh;
}

/* 卡片样式 */
.card-shadow {
  background-color: var(--van-background-2) !important;
  box-shadow: var(--shadow-light) !important;
  transition: background-color 0.3s, box-shadow 0.3s;
}

/* 统计卡片样式 */
.stat-card {
  background: var(--van-background-2) !important;
  color: var(--van-text-color) !important;
  transition: background-color 0.3s, color 0.3s;
}

.stat-value {
  color: var(--van-text-color) !important;
}

.stat-label {
  color: var(--van-text-color-3) !important;
}

/* 金额显示颜色 - 在暗黑模式下使用更柔和的颜色 */
.amount-positive {
  color: var(--van-green);
  font-weight: 600;
}

.amount-negative {
  color: var(--van-red);
  font-weight: 600;
}

.amount-zero {
  color: var(--van-text-color-3);
}

/* 暗黑模式下的金额颜色调整 */
.van-theme-dark .amount-positive {
  color: #73d13d; /* 更亮的绿色，适合暗黑背景 */
}

.van-theme-dark .amount-negative {
  color: #ff7875; /* 更亮的红色，适合暗黑背景 */
}

/* 浮动操作按钮 */
.mobile-fab {
  background-color: var(--color-primary) !important;
  color: white !important;
  box-shadow: 0 4px 12px rgba(25, 137, 250, 0.3) !important;
  transition: all 0.3s;
}

.van-theme-dark .mobile-fab {
  box-shadow: 0 4px 12px rgba(25, 137, 250, 0.5) !important;
}

/* 自定义样式类 */
.cell-desc {
  color: var(--van-text-color-3) !important;
}

/* 设置页面特定样式 */
.settings-page {
  background-color: var(--van-background) !important;
  transition: background-color 0.3s ease;
}

/* 确保所有 Vant 组件正确应用主题 */
.van-cell-group {
  background-color: var(--van-background-2);
}

.van-cell {
  background-color: var(--van-background-2);
  color: var(--van-text-color);
}

.van-nav-bar {
  background-color: var(--van-background-2);
  border-bottom-color: var(--van-border-color);
}

.van-tabbar {
  background-color: var(--van-background-2);
  border-top-color: var(--van-border-color);
}

/* 账户层级样式 */
.account-level-0 {
  font-weight: 600;
  color: var(--van-text-color);
}

.account-level-1 {
  padding-left: 20px;
  color: var(--van-text-color-2);
}

.account-level-2 {
  padding-left: 40px;
  color: var(--van-text-color-3);
}

.account-level-3 {
  padding-left: 60px;
  color: var(--van-text-color-3);
}

/* 按钮样式 */
.cancel-btn {
  background-color: var(--van-active-color) !important;
  color: var(--van-text-color) !important;
  border-color: var(--van-border-color) !important;
}

/* 滚动条样式 - 适配暗黑模式 */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: var(--van-background);
}

::-webkit-scrollbar-thumb {
  background: var(--van-border-color);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--van-gray-5);
}

/* 主题切换动画 */
* {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* 确保暗黑模式只在移动端生效（如果需要） */
@media (max-width: 768px) {
  /* 移动端特定的暗黑模式样式已由 Vant 原生支持 */
}

/* PWA 清单主题色支持暗黑模式 */
:root {
  --pwa-theme-color: #1989fa;
  --pwa-background-color: #ffffff;
}

.van-theme-dark {
  --pwa-theme-color: #1989fa;
  --pwa-background-color: #000000;
}